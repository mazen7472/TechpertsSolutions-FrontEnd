<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card shadow-lg border-0 rounded-4 overflow-hidden">
        <div class="row g-0">
          <!-- Product Image -->
          <div class="col-md-5">
            <img
              [src]="product.imageUrl || ('https://picsum.photos/seed/' + product.id + '/400/400')"
              [alt]="product.name"
              class="img-fluid h-100 object-fit-cover w-100"
            />
          </div>
          <!-- Wishlist Icon -->
<div class="position-absolute top-0 end-0 m-3">
  <button class="btn btn-light rounded-circle shadow-sm"
          (click)="onAddToWishlist()"
          title="Add to wishlist">
    <i class="bi bi-heart-fill text-danger"></i>
  </button>
</div>


          <!-- Product Details -->
          <div class="col-md-7 p-4 d-flex flex-column">
            <!-- Name & Optional Title -->
            <div class="mb-2">
              <h3 class="fw-bold mb-0">{{ product.name }}</h3>
              <small *ngIf="product.title" class="text-muted">{{ product.title }}</small>
            </div>

            <!-- Status Badge -->
            <div class="mb-3">
              <span class="badge"
                    [ngClass]="{
                      'bg-success': product.status === 'Approved',
                      'bg-warning text-dark': product.status === 'Pending',
                      'bg-danger': product.status === 'Rejected'
                    }">
                {{ product.status }}
              </span>
            </div>

            <!-- Description -->
            <p class="text-muted">{{ product.description || 'No description available.' }}</p>

            <!-- Price -->
            <div class="mb-3">
              <span *ngIf="product.discountPrice < product.price" class="text-danger fw-bold fs-4">
                ${{ product.discountPrice }}
              </span>
              <span *ngIf="product.discountPrice < product.price" class="text-muted text-decoration-line-through ms-2">
                ${{ product.price }}
              </span>
              <span *ngIf="product.discountPrice >= product.price" class="text-primary fw-bold fs-4">
                ${{ product.price }}
              </span>
            </div>

            <!-- Categories -->
            <div class="mb-2 text-secondary small">
              <div>Category: <strong>{{ product.category || 'Uncategorized' }}</strong></div>
              <div>Subcategory: <strong>{{ product.subCategoryName }}</strong></div>
            </div>

            <!-- External Link -->
            <div *ngIf="product.link" class="mt-3">
              <a [href]="product.link" target="_blank" class="btn btn-outline-primary btn-sm">
                View on Website <i class="bi bi-box-arrow-up-right ms-1"></i>
              </a>
            </div>

            <!-- Add to Cart Button -->
            <div class="mt-auto pt-4">
              <button 
                class="btn btn-success w-100" 
                [disabled]="isAddingToCart"
                (click)="onAddToCart()"
              >
                <i class="bi bi-cart-plus me-2"></i>
                {{ isAddingToCart ? 'Adding...' : 'Add to Cart' }}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
