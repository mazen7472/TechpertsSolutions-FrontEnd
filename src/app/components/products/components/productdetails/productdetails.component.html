<div class="product-details-wrapper" *ngIf="product">
  <h1 class="product-title">{{ product.name }}</h1>
<<<<<<< HEAD
 
=======

>>>>>>> d83075c2677b91f5abf9fc0b47458cf5bc9c0a41

  <!-- Wishlist Button -->
  <button
    type="button"
    class="btn btn-light rounded-circle shadow position-absolute top-0 start-0 m-3 wishlist-btn"
    (click)="onAddToWishlist(product)"
    title="Add to Wishlist"
  >
    <i class="bi bi-heart"></i>
  </button>

  <!-- Product Image -->
  <img
    [src]="product.imageUrl || 'https://picsum.photos/seed/' + product.id + '/600/400'"
    [alt]="product.name"
<<<<<<< HEAD
    class="product-image img-fluid rounded shadow-sm mx-auto text-center"
=======
    class="product-image img-fluid rounded shadow-sm text-center"
>>>>>>> d83075c2677b91f5abf9fc0b47458cf5bc9c0a41
  />

  <p class="product-description mt-3">{{ product.description || 'No description provided.' }}</p>

  <!-- Meta Info -->
  <div class="product-meta mt-3">
    <div><strong>Category:</strong> {{ product.category || '—' }}</div>
    <div><strong>Subcategory:</strong> {{ product.subCategoryName || '—' }}</div>
    <div><strong>Status:</strong>
      <span class="badge"
        [ngClass]="{
          'bg-success': product.status === 'Approved',
          'bg-warning text-dark': product.status === 'Pending',
          'bg-danger': product.status === 'Rejected'
        }">
        {{ product.status }}
      </span>
    </div>
  </div>

  <!-- Pricing -->
  <div class="product-pricing mt-3">
    <ng-container *ngIf="product.discountPrice && product.discountPrice < product.price; else regularPrice">
      <span class="price-discount fw-bold text-success fs-5">
        ${{ product.discountPrice }}
      </span>
      <span class="price-original text-danger text-decoration-line-through ms-2">
        ${{ product.price }}
      </span>
    </ng-container>

    <ng-template #regularPrice>
      <span class="price-normal fw-bold fs-5 text-primary">
        ${{ product.price }}
      </span>
    </ng-template>
  </div>

  <!-- External Link -->
  <div *ngIf="product.link" class="mt-3 text-center">
    <a [href]="product.link" target="_blank" class="btn btn-outline-primary btn-sm rounded-pill px-4">
      View on Website <i class="bi bi-box-arrow-up-right ms-1"></i>
    </a>
  </div>

  <!-- Actions -->
  <div class="mt-4 d-flex justify-content-center gap-3">
    <button class="btn btn-primary rounded-pill px-4" (click)="onAddToCart()">
      <i class="bi bi-cart-plus me-1"></i> Add to Cart
    </button>
    <button class="btn btn-outline-danger rounded-pill px-4" (click)="onAddToWishlist(product)">
      <i class="bi bi-heart me-1"></i> Wishlist
    </button>
  </div>
</div>

<!-- Fallback -->
<div class="product-details-wrapper text-center" *ngIf="!product">
  <h2 class="product-title">Product Not Found</h2>
  <p class="product-description">This product does not exist or is no longer available.</p>
  <a routerLink="/build" class="btn btn-outline-secondary rounded-pill mt-3">← Back to Build</a>
</div>
